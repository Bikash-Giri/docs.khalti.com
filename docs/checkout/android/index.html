



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>Android SDK - Khalti for Developers</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../style/custom.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#android-sdk" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Khalti for Developers" class="md-header-nav__button md-logo">
          
            <img src="../../img/khalti_logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Khalti for Developers
              </span>
              <span class="md-header-nav__topic">
                Android SDK
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/khalti/khalti-docs-official-repo/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      khalti/khalti-docs-official-repo
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Khalti for Developers" class="md-nav__button md-logo">
      
        <img src="../../img/khalti_logo.png" width="48" height="48">
      
    </a>
    Khalti for Developers
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/khalti/khalti-docs-official-repo/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      khalti/khalti-docs-official-repo
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Client Integration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Client Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../web/" title="Web SDK" class="md-nav__link">
      Web SDK
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Android SDK
      </label>
    
    <a href="./" title="Android SDK" class="md-nav__link md-nav__link--active">
      Android SDK
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layout" title="Layout" class="md-nav__link">
    Layout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure" title="Configure" class="md-nav__link">
    Configure
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config" title="Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-config-preset-methods" title="Available Config Preset Methods" class="md-nav__link">
    Available Config Preset Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-config" title="Set Config" class="md-nav__link">
    Set Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" title="Summary" class="md-nav__link">
    Summary
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xml-attribute" title="XML Attribute" class="md-nav__link">
    XML Attribute
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-methods" title="Public Methods" class="md-nav__link">
    Public Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callback-methods" title="Callback Methods" class="md-nav__link">
    Callback Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#response-sample" title="Response Sample" class="md-nav__link">
    Response Sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#success-messsage" title="Success Messsage" class="md-nav__link">
    Success Messsage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-messsage" title="Error Messsage" class="md-nav__link">
    Error Messsage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-implementations" title="More Implementations" class="md-nav__link">
    More Implementations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-with-custom-click-listener" title="Method 1: With Custom Click Listener" class="md-nav__link">
    Method 1: With Custom Click Listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-with-custom-view" title="Method 2: With Custom View" class="md-nav__link">
    Method 2: With Custom View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changelog" title="Changelog" class="md-nav__link">
    Changelog
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ios/" title="iOS SDK" class="md-nav__link">
      iOS SDK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      API Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        API Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../diy-wallet/" title="Wallet" class="md-nav__link">
      Wallet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../diy-ebanking/" title="Ebanking" class="md-nav__link">
      Ebanking
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Server Integration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Server Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/verification/" title="Verification" class="md-nav__link">
      Verification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Transaction
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Transaction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/transaction/" title="List" class="md-nav__link">
      List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/transaction_details/" title="Detail" class="md-nav__link">
      Detail
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Plug and Play
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Plug and Play
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../plugins/woocommerce/" title="WooCommerce" class="md-nav__link">
      WooCommerce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../plugins/opencart/" title="Opencart" class="md-nav__link">
      Opencart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../plugins/magneto/" title="Magento" class="md-nav__link">
      Magento
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../plugins/prestashop/" title="Prestashop" class="md-nav__link">
      Prestashop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../plugins/whmcs/" title="WHMCS Khalti Module" class="md-nav__link">
      WHMCS Khalti Module
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../resources/" title="Resources" class="md-nav__link">
      Resources
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../gotchas/" title="FAQ's and Gotchas" class="md-nav__link">
      FAQ's and Gotchas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contribution/" title="Contribution" class="md-nav__link">
      Contribution
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layout" title="Layout" class="md-nav__link">
    Layout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure" title="Configure" class="md-nav__link">
    Configure
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config" title="Config" class="md-nav__link">
    Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-config-preset-methods" title="Available Config Preset Methods" class="md-nav__link">
    Available Config Preset Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-config" title="Set Config" class="md-nav__link">
    Set Config
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" title="Summary" class="md-nav__link">
    Summary
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xml-attribute" title="XML Attribute" class="md-nav__link">
    XML Attribute
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-methods" title="Public Methods" class="md-nav__link">
    Public Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callback-methods" title="Callback Methods" class="md-nav__link">
    Callback Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#response-sample" title="Response Sample" class="md-nav__link">
    Response Sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#success-messsage" title="Success Messsage" class="md-nav__link">
    Success Messsage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-messsage" title="Error Messsage" class="md-nav__link">
    Error Messsage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-implementations" title="More Implementations" class="md-nav__link">
    More Implementations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-with-custom-click-listener" title="Method 1: With Custom Click Listener" class="md-nav__link">
    Method 1: With Custom Click Listener
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-with-custom-view" title="Method 2: With Custom View" class="md-nav__link">
    Method 2: With Custom View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changelog" title="Changelog" class="md-nav__link">
    Changelog
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/khalti/khalti-docs-official-repo/edit/master/content/checkout/android.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="android-sdk">Android SDK<a class="headerlink" href="#android-sdk" title="Permanent link">&para;</a></h1>
<p>Documentation of Khalti checkout for android</p>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>Add the following line to <code>dependency</code> section in <code>build.gradle</code> file</p>
<pre><code>compile 'com.khalti:khalti-android:1.2.5'
</code></pre>

<p>It is recommended that you update your support libraries to the latest version. However, if you're unable to update the libraries add the following line instead.</p>
<pre><code>compile ('com.khalti:khalti-android:1.2.5') {
        transitive = true
    }
</code></pre>

<p>Note : We recommend you to use the latest version of <code>Build tools</code> and <code>Support libraries</code> for maximum compatibility. </p>
<p>In order to build and run this project, please use <code>Android Studio 3</code> and please note that the minimum <code>Build tools</code> and <code>Support libraries</code> version should be <code>27</code>.</p>
<pre><code>compileSdkVersion 27
buildToolsVersion '27.0.3'

compile 'com.android.support:appcompat-v7:27.0.2'
</code></pre>

<p>In order to add support library 27, add the Google's maven url in <code>build.gradle</code></p>
<pre><code>repositories {
        jcenter()
        mavenCentral()
        maven { url &quot;https://maven.google.com&quot; }
    }
</code></pre>

<p><code>Important</code> Add the lines below in android default config of 'build.gradle'</p>
<pre><code class="java">renderscriptTargetApi 20
renderscriptSupportModeEnabled true
</code></pre>

<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<h3 id="layout">Layout<a class="headerlink" href="#layout" title="Permanent link">&para;</a></h3>
<p>You can add KhaltiButton to your xml layout</p>
<pre><code class="xml">&lt;khalti.widget.KhaltiButton
            android:id=&quot;@+id/khalti_button&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;/&gt;

</code></pre>

<p>And, Locate your xml Khalti Button in your Java</p>
<pre><code class="java">KhaltiButton khaltiButton = (KhaltiButton) findViewById(R.id.khalti_button);
</code></pre>

<p>Or, use it in Java</p>
<pre><code class="java">KhaltiButton khaltiButton = new KhaltiButton();
</code></pre>

<p>And, add this java KhaltiButton into your layout container.</p>
<h3 id="configure">Configure<a class="headerlink" href="#configure" title="Permanent link">&para;</a></h3>
<p>Configure Khalti Checkout by passing an instance of Config class</p>
<p>When instantiating Config class pass public key, product id, product name, product web url, amount (in paisa) and a new instance of OnCheckOutListener.</p>
<pre><code class="java">Config config = new Config(&quot;Public Key&quot;, &quot;Product ID&quot;, &quot;Product Name&quot;, &quot;Product Url&quot;, amount, new OnCheckOutListener() {

            @Override
            public void onSuccess(HashMap&lt;String, Object&gt; data) {
                Log.i(&quot;Payment confirmed&quot;, data+&quot;&quot;);
            }

            @Override
            public void onError(String action, String message) {
                Log.i(action, message);
            }
        });
</code></pre>

<p>Additionally, Config class also accepts a HashMap parameter which you can use to pass any additional data. Make sure you add a <code>merchant_</code> prefix in your map key.</p>
<pre><code class="java">HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();
        map.put(&quot;merchant_extra&quot;, &quot;This is extra data&quot;);

        Config config = new Config(&quot;Public Key&quot;, &quot;Product ID&quot;, &quot;Product Name&quot;, &quot;Product Url&quot;, amount, map, new OnCheckOutListener() {

            @Override
            public void onSuccess(HashMap&lt;String, Object&gt; data) {
                Log.i(&quot;Payment confirmed&quot;, data);
            }

            @Override
            public void onError(String action, String message) {
                Log.i(action, message);
            }
        });

</code></pre>

<h4 id="config">Config<a class="headerlink" href="#config" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Constraint</th>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Required</td>
<td>Public key</td>
<td>String</td>
<td>Test or live public key which identifies the merchant</td>
</tr>
<tr>
<td>Required</td>
<td>Product identity</td>
<td>String</td>
<td>Unique product identifier at merchant</td>
</tr>
<tr>
<td>Required</td>
<td>Product name</td>
<td>String</td>
<td>Name of product</td>
</tr>
<tr>
<td>Optional</td>
<td>Product url</td>
<td>String</td>
<td>URL of product</td>
</tr>
<tr>
<td>Required</td>
<td>Amount (In PAISA)</td>
<td>Long</td>
<td>Amount to pay in PAISA. Minimum transaction amount is 1000 PAISA i.e. Rs 10<br />For non Kyc Verified merchant, the maximum transaction amount limit is 100000 PAISA i.e. Rs 1000</td>
</tr>
<tr>
<td>Optional</td>
<td>Mobile</td>
<td>String</td>
<td>Mobile number to be preset in mobile fields</td>
</tr>
<tr>
<td>Optional</td>
<td>Additional data</td>
<td>HashMap<String, String></td>
<td>Any additional data the merchant wishes to pass to the SDK</td>
</tr>
<tr>
<td>Required</td>
<td>OnCheckOutListener</td>
<td>interface</td>
<td>Java interface with 2 callback methods <code>onSuccess</code> &amp; <code>onError</code>. For more information see <a href="#callback-methods">Callback Methods</a></td>
</tr>
</tbody>
</table>
<p>Note : In order to preset mobile number, you can also use <code>config.setMobile()</code>.</p>
<h3 id="available-config-preset-methods">Available Config Preset Methods<a class="headerlink" href="#available-config-preset-methods" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Constraint</th>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Optional</td>
<td><code>setMobile()</code></td>
<td>Preset mobile number</td>
</tr>
</tbody>
</table>
<h4 id="set-config">Set Config<a class="headerlink" href="#set-config" title="Permanent link">&para;</a></h4>
<p>Finally set your config in your KhaltiButton.</p>
<pre><code class="java">khaltiButton.setCheckOutConfig(config);
</code></pre>

<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<h4 id="xml-attribute">XML Attribute<a class="headerlink" href="#xml-attribute" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>khalti:text</code></td>
<td>Text to display</td>
</tr>
<tr>
<td><code>khalti:button_style</code></td>
<td>Set the style of KhaltiButton from 2 options</td>
</tr>
</tbody>
</table>
<h4 id="public-methods">Public Methods<a class="headerlink" href="#public-methods" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Constraint</th>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Required</td>
<td><code>setCheckOutConfig(Config config)</code></td>
<td>Set configuration required by Khalti checkout</td>
</tr>
<tr>
<td>Optional</td>
<td><code>setText(String text)</code></td>
<td>Set text to display in KhaltiButton</td>
</tr>
<tr>
<td>Optional</td>
<td><code>setCustomView(View view)</code></td>
<td>Replace KhaltiButton's default view with your custom view</td>
</tr>
<tr>
<td>Optional</td>
<td><code>setButtonStyle(ButtonStyle buttonStyle)</code></td>
<td>Select between 2 options to set KhaltiButton's style</td>
</tr>
<tr>
<td>Optional</td>
<td><code>showCheckOut()</code></td>
<td>Use this method to show Khalti checkout UI</td>
</tr>
<tr>
<td>Optional</td>
<td><code>destroyCheckOut()</code></td>
<td>Use this method to close Khalti checkout UI</td>
</tr>
</tbody>
</table>
<h4 id="callback-methods">Callback Methods<a class="headerlink" href="#callback-methods" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>onSuccess(HashMap data)</code></td>
<td>This method is called when a transaction has been completed and confirmed by the user. A map containing an access token, required to verify the transaction and data passed through Config instance is returned. Once this method is called, use the access token to verify the transaction. Please follow the <a href="../../api/verification/">verification</a> process for further instructions.</td>
</tr>
<tr>
<td><code>onError(String action, String message)</code></td>
<td>This method is called when an error occurs during payment initiation and confirmation. Action and message value is passed where action defines, the current action being performed and message defines the error.</td>
</tr>
</tbody>
</table>
<h5 id="response-sample">Response Sample<a class="headerlink" href="#response-sample" title="Permanent link">&para;</a></h5>
<h6 id="success-messsage">Success Messsage<a class="headerlink" href="#success-messsage" title="Permanent link">&para;</a></h6>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>mobile</td>
<td>98XXXXXXXX</td>
<td>String</td>
</tr>
<tr>
<td>product_name</td>
<td>Product Name</td>
<td>String</td>
</tr>
<tr>
<td>product_identity</td>
<td>Product Id</td>
<td>String</td>
</tr>
<tr>
<td>product_url</td>
<td>Product Url</td>
<td>String</td>
</tr>
<tr>
<td>amount</td>
<td>100</td>
<td>Long</td>
</tr>
<tr>
<td>token</td>
<td>token</td>
<td>String</td>
</tr>
</tbody>
</table>
<p>The success message also contains all the <code>key</code> and <code>value</code> provide as extra data while initiating <code>Config</code> </p>
<h6 id="error-messsage">Error Messsage<a class="headerlink" href="#error-messsage" title="Permanent link">&para;</a></h6>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>action</td>
<td>Action performed - initiate, confirm</td>
<td>String</td>
</tr>
<tr>
<td>message</td>
<td>Detail Error Message</td>
<td>String</td>
</tr>
</tbody>
</table>
<h4 id="more-implementations">More Implementations<a class="headerlink" href="#more-implementations" title="Permanent link">&para;</a></h4>
<h5 id="method-1-with-custom-click-listener">Method 1: With Custom Click Listener<a class="headerlink" href="#method-1-with-custom-click-listener" title="Permanent link">&para;</a></h5>
<p>Initialize the KhaltiCheckout Object</p>
<pre><code class="java">KhaltiCheckOut khaltiCheckOut = new KhaltiCheckOut(this, config);
</code></pre>

<p>Use <code>khaltiCheckout.show()</code> to display khalti widget</p>
<pre><code class="java">khaltiButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                khaltiCheckOut.show();
            }
        });
</code></pre>

<h5 id="method-2-with-custom-view">Method 2: With Custom View<a class="headerlink" href="#method-2-with-custom-view" title="Permanent link">&para;</a></h5>
<p>Get your custom view</p>
<pre><code class="java">View view = LayoutInflater.from(this).inflate(R.layout.custom_khalti_button, container, false);
</code></pre>

<p>Set custom view to your khalti button</p>
<pre><code class="java">khaltiButton.setCustomView(view);
khaltiButton.setCheckOutConfig(config);
</code></pre>

<p>Check out the source for <a href="https://github.com/khalti/khalti-sdk-android">Khalti checkout on Github</a>.</p>
<p>Check out the <a href="http://docs.khalti.com/api/verification/">Verification</a> process.</p>
<h3 id="changelog"><a href="https://github.com/khalti/khalti-sdk-android/blob/master/CHANGELOG.md">Changelog</a><a class="headerlink" href="#changelog" title="Permanent link">&para;</a></h3>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../web/" title="Web SDK" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Web SDK
              </span>
            </div>
          </a>
        
        
          <a href="../ios/" title="iOS SDK" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                iOS SDK
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Sparrow Pay Pvt. Ltd.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/khalti" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/KhaltiOfficial" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/khalti-digital-wallet" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://facebook.com/khaltiofficial" class="md-footer-social__link fa fa-facebook"></a>
    
      <a href="https://www.instagram.com/khaltiofficial/" class="md-footer-social__link fa fa-instagram"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>